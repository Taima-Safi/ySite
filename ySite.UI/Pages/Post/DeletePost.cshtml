@page

@{
}

<h1>Are you Shour that you want to delete this item? </h1>
<form id="deletepost" method="">
    <button type="submit">delete</button>
</form>
<script>

    document.getElementById('deletepost').addEventListener('submit', async function (event) {
        event.preventDefault();

        // Your code to add a new post using an API call
        const formData = new FormData(this);
        try {
            const response = await fetch('http://localhost:5080/api/Posts', {
                method: 'DELETE',
                body: formData,
                headers: {
                    // Add any necessary headers here (e.g., authorization token)
                }
            });

            if (response.ok) {
                // Post was added successfully
                const data = await response.json();
                console.log('Post deleted successfully!', data);
            } else {
                // Error adding the post
                const data = await response.json();
                console.error('Failed to deleted post.', data);
            }
        } catch (error) {
            console.error('Error:', error);
        }
        // After successful addition
        //successMessage.innerText = 'Post deleted successfully!';
        //successMessage.style.color = 'red';
    });
</script>
